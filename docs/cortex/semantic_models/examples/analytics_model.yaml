# Analytics Semantic Model
# Example model for web analytics

name: web_analytics
description: "Website analytics and user behavior"

tables:
  - name: PAGEVIEWS
    description: "Website page views"
    base_table:
      database: ANALYTICS
      schema: WEB
      table: PAGEVIEWS
    
    dimensions:
      - name: page_url
        description: "Page URL"
        expr: PAGE_URL
      
      - name: user_id
        description: "User ID"
        expr: USER_ID
      
      - name: session_id
        description: "Session ID"
        expr: SESSION_ID
      
      - name: view_date
        description: "Date of page view"
        expr: VIEW_DATE
    
    measures:
      - name: total_views
        description: "Total page views"
        expr: COUNT(*)
      
      - name: unique_users
        description: "Unique users"
        expr: COUNT(DISTINCT USER_ID)
      
      - name: avg_session_duration
        description: "Average session duration in minutes"
        expr: AVG(SESSION_DURATION_MINUTES)

  - name: CONVERSIONS
    description: "Conversion events"
    base_table:
      database: ANALYTICS
      schema: WEB
      table: CONVERSIONS
    
    dimensions:
      - name: conversion_type
        description: "Type of conversion"
        expr: CONVERSION_TYPE
      
      - name: user_id
        description: "User ID"
        expr: USER_ID
      
      - name: conversion_date
        description: "Date of conversion"
        expr: CONVERSION_DATE
    
    measures:
      - name: total_conversions
        description: "Total conversions"
        expr: COUNT(*)
      
      - name: conversion_value
        description: "Total conversion value"
        expr: SUM(VALUE)
